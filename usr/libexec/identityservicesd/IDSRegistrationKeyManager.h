//
//     Generated by classdump-c 4.2.0 (64 bit).
//
//  Copyright (C) 1997-2019 Steve Nygard. Updated in 2022 by Kevin Bradley.
//

#import <objc/NSObject.h>

@class IDSKTRegistrationDataManager, IDSKeychainWrapper, IDSNGMKeyLoadingErrorContainer, IDSPerServiceApplicationKeyManager, IDSRateLimiter, IDSRegistrationKeyConfig, IDSRegistrationKeyManagerIdentityDataSource, IMSystemMonitor, IMTimer, MISSING_TYPE, NSRecursiveLock;
@protocol IDSRegistrationKeyManagerKeyPairProvider;

@interface IDSRegistrationKeyManager : NSObject
{
    NSRecursiveLock *_lock;	// 8 = 0x8
    _Bool _forceRoll;	// 16 = 0x10
    _Bool _loaded;	// 17 = 0x11
    _Bool _identityLoaded;	// 18 = 0x12
    _Bool _detectedMigrationNeeded;	// 19 = 0x13
    _Bool _needsReRegister;	// 20 = 0x14
    _Bool _pendingIdentityRegeneration;	// 21 = 0x15
    _Bool _hasCheckedMigrationThisLaunch;	// 22 = 0x16
    _Bool _failedToGeneratedPublicDataForNGMIdentity;	// 23 = 0x17
    IDSNGMKeyLoadingErrorContainer *_recentKeyLoadingErrors;	// 24 = 0x18
    IDSRegistrationKeyConfig *_config;	// 32 = 0x20
    IMTimer *_purgePreviousIdentityTimer;	// 40 = 0x28
    IMTimer *_regenerateIdentityTimer;	// 48 = 0x30
    IMSystemMonitor *_systemMonitor;	// 56 = 0x38
    IDSKeychainWrapper *_keychainWrapper;	// 64 = 0x40
    IDSRegistrationKeyManagerIdentityDataSource *_identityDataSource;	// 72 = 0x48
    IDSPerServiceApplicationKeyManager *_applicationKeyManager;	// 80 = 0x50
    IDSRateLimiter *_loadingRateLimiter;	// 88 = 0x58
    id <IDSRegistrationKeyManagerKeyPairProvider> _keyPairProvider;	// 96 = 0x60
    _Bool _allowPairingIdentities;	// 104 = 0x68
    _Bool _allowRegenerateRegisteredIdentity;	// 105 = 0x69
    unsigned long long _generationRetryCount;	// 112 = 0x70
    IDSKTRegistrationDataManager *_ktRegistrationDataManager;	// 120 = 0x78
}

+ (_Bool)setupKeys;	// IMP=0x0040000000030e42
+ (id)sharedInstance;	// IMP=0x0010000000030ded
- (void).cxx_destruct;	// IMP=0x0020000000040a68
@property(retain, nonatomic) IDSKTRegistrationDataManager *ktRegistrationDataManager; // @synthesize ktRegistrationDataManager=_ktRegistrationDataManager;
@property(nonatomic) unsigned long long generationRetryCount; // @synthesize generationRetryCount=_generationRetryCount;
@property(retain, nonatomic) id <IDSRegistrationKeyManagerKeyPairProvider> keyPairProvider; // @synthesize keyPairProvider=_keyPairProvider;
@property(nonatomic) _Bool forceRoll; // @synthesize forceRoll=_forceRoll;
@property(retain, nonatomic) IDSRegistrationKeyConfig *config; // @synthesize config=_config;
@property(nonatomic) _Bool allowRegenerateRegisteredIdentity; // @synthesize allowRegenerateRegisteredIdentity=_allowRegenerateRegisteredIdentity;
@property(nonatomic) _Bool allowPairingIdentities; // @synthesize allowPairingIdentities=_allowPairingIdentities;
@property(retain, nonatomic) IDSRegistrationKeyManagerIdentityDataSource *identityDataSource; // @synthesize identityDataSource=_identityDataSource;
@property(retain, nonatomic) IDSRateLimiter *loadingRateLimiter; // @synthesize loadingRateLimiter=_loadingRateLimiter;
@property(retain, nonatomic) IDSKeychainWrapper *keychainWrapper; // @synthesize keychainWrapper=_keychainWrapper;
@property(retain, nonatomic) IMSystemMonitor *systemMonitor; // @synthesize systemMonitor=_systemMonitor;
- (id)errorContainerToReport;	// IMP=0x001000000004095c
- (_Bool)_shouldCheckUnregisteredKTData;	// IMP=0x00100000000408d3
- (double)_generationRetryDelay;	// IMP=0x00100000000407ff
- (double)_identityRegenerationDelay;	// IMP=0x0010000000040686
- (double)_purgePreviousIdentityDelay;	// IMP=0x0010000000040549
- (double)_notifyKTReregisterDelay;	// IMP=0x00100000000404a1
- (double)_notifyRegenerateDelay;	// IMP=0x0010000000040493
- (void)_regenerateIdentityTimerFired;	// IMP=0x00100000000402fa
- (void)_regenerateIdentityTimerFiredOnMain;	// IMP=0x001000000004027b
- (void)_scheduleRegenerationOfRegisteredIdentityAfterDelay:(double)arg1;	// IMP=0x00100000000400ca
- (void)_purgePreviousIdentityTimerFired;	// IMP=0x001000000003ffa8
- (void)_purgePreviousIdentityTimerFiredOnMain;	// IMP=0x001000000003ff29
- (void)_schedulePurgeOfPreviousIdentityAfterDelay:(double)arg1;	// IMP=0x001000000003fd78
- (double)_randomizedIdentityRegenerationInterval;	// IMP=0x001000000003fc87
- (_Bool)_shouldRegenerateRegisteredIdentity;	// IMP=0x001000000003fb86
- (void)regenerateRegisteredIdentity;	// IMP=0x001000000003f9e5
- (_Bool)_migrateIdentity:(id)arg1 toProtectionClass:(long long)arg2;	// IMP=0x001000000003f89e
- (_Bool)migrateToSecureStorageForClassC;	// IMP=0x001000000003f7eb
- (_Bool)migrateToSecureStorageForClassA;	// IMP=0x001000000003f735
- (_Bool)_isSecurelyStoringIdentity:(id)arg1 withExpectedProtectionClass:(long long)arg2;	// IMP=0x001000000003f5e6
- (_Bool)isUsingSecureStorageForClassC;	// IMP=0x001000000003f533
- (_Bool)isUsingSecureStorageForClassA;	// IMP=0x001000000003f47d
- (_Bool)requiresKeychainMigration;	// IMP=0x001000000003f474
- (_Bool)isMigratedKeyPairSignature;	// IMP=0x001000000003f41e
- (id)createKTRegistrationDataForServiceTypes:(id)arg1 withPublicIdentity:(id)arg2;	// IMP=0x001000000003f37c
- (_Bool)needsPublicDataUpdatedForKeyIndex:(unsigned short)arg1 ktRegistrationKeyIndex:(unsigned short)arg2;	// IMP=0x001000000003e753
- (id)keyPairSignature;	// IMP=0x001000000003e6f1
- (struct __SecKey *)identityPublicKey;	// IMP=0x001000000003e69b
- (struct __SecKey *)identityPrivateKey;	// IMP=0x001000000003e645
- (void)regeneratePairingIdentitiesIncludingClassD:(_Bool)arg1;	// IMP=0x001000000003de37
- (void)loadPairingIdentities:(_Bool)arg1;	// IMP=0x001000000003d318
- (void)noteManateeAvailableTime;	// IMP=0x001000000003d2d7
- (void)noteBuddyFinishTime;	// IMP=0x001000000003d296
- (void)noteiCloudSignInTime;	// IMP=0x001000000003d255
- (id)kvsTrustedDevices;	// IMP=0x001000000003d17e
- (void)updateKVSForKTRegistrationData;	// IMP=0x001000000003d0dd
- (void)_handleKVSUpdateResponseForTrustedDevices:(id)arg1 withSuccessfulKVSSync:(_Bool)arg2;	// IMP=0x001000000003cf97
- (void)fetchKTSignatureDataForServiceTypes:(id)arg1 publicIdentityData:(id)arg2 withCompletion:(CDUnknownBlockType)arg3;	// IMP=0x001000000003ceec
- (void)_generateKTRegistrationData:(id)arg1;	// IMP=0x001000000003ce78
- (void)_ktDataNeedsUpdate:(id)arg1;	// IMP=0x001000000003ccec
- (void)_purgePreviousIdentityFromMemoryAndKeychain;	// IMP=0x001000000003c7b7
- (void)purgeMessageProtectionIdentity;	// IMP=0x001000000003c2e3
- (void)noteDidRegisterKTData:(id)arg1 forKeyIndex:(unsigned short)arg2;	// IMP=0x001000000003c217
- (void)notePublicIdentityDidRegisterLegacyData:(id)arg1 ngmIdentityData:(id)arg2 ngmPrekeyData:(id)arg3 keyIndexToIdentityData:(id)arg4;	// IMP=0x001000000003a571
- (id)fullMessageProtectionIdentityForDataProtectionClass:(unsigned int)arg1;	// IMP=0x001000000003a569
- (id)previousFullMessageProtectionIdentity;	// IMP=0x001000000003a4af
- (id)fullMessageProtectionIdentity;	// IMP=0x001000000003a3f5
- (void)_notifyUnregisteredKTData;	// IMP=0x001000000003a0b9
- (_Bool)registrationNeedsKTDataUpdated;	// IMP=0x001000000003a06a
- (void)_notifyUnregisteredIdentityRegenerated;	// IMP=0x0010000000039d08
- (_Bool)_migrateRegisteredIdentityFromClassDtoClassCIfNeeded;	// IMP=0x0010000000039af6
- (_Bool)_generateUnregisteredIdentityWithExistingLegacyIdentity:(id)arg1 existingNGMIdentity:(id)arg2;	// IMP=0x0010000000039133
- (void)_retryGenerationAfterDelay;	// IMP=0x0010000000039089
- (void)_retryGenerationIfNeeded;	// IMP=0x0010000000038e9b
- (void)_unsubscribeForTimeChangeNotification;	// IMP=0x0010000000038e73
- (void)_subscribeForTimeChangeNotification;	// IMP=0x0010000000038daf
- (void)_ensureIdentity:(id *)arg1 savedIndentity:(id *)arg2 protectionClass:(long long)arg3 didSaveIdentity:(_Bool *)arg4;	// IMP=0x0010000000038ced
- (id)publicMessageProtectionData;	// IMP=0x0010000000038c34
- (id)publicMessageProtectionDataToRegisterForClassD;	// IMP=0x0010000000038bb2
- (id)publicMessageProtectionDataToRegisterForClassC;	// IMP=0x0010000000038b33
- (id)publicMessageProtectionDataToRegisterForClassA;	// IMP=0x0010000000038ab1
- (id)latestMessageProtectionFullIdentityForDataProtectionClass:(unsigned int)arg1;	// IMP=0x001000000003892b
- (id)_getPublicMessageProtectionDataForIdentity:(id)arg1;	// IMP=0x001000000003874a
- (id)_generateIdentityWithExistingIdentity:(id)arg1 identifier:(long long)arg2 dataProtectionClass:(long long)arg3;	// IMP=0x0010000000038541
- (id)publicMessageProtectionDeviceIdentityContainerToRegister:(id *)arg1;	// IMP=0x0010000000038188
- (id)keyTransparencyVersionNumberToRegisterForServiceType:(id)arg1;	// IMP=0x0010000000038172
- (MISSING_TYPE *)publicMessageProtectionIdentityDataToRegisterWithError: /* Error: Ran out of types for this method. */;	// IMP=0x0010000000037286
- (void)_handleTransparencySignatureResponseForRegistration:(id)arg1 error:(id)arg2;	// IMP=0x00100000000371fc
- (void)_handleTransparencySignatureResponse:(id)arg1 error:(id)arg2;	// IMP=0x0010000000037159
- (id)fetchRegistrationStatusProvider;	// IMP=0x00100000000370ec
- (id)copyKTRegistrationDataToRegisterForKeyIndex:(unsigned short)arg1 withError:(id *)arg2;	// IMP=0x0010000000037026
- (struct __SecKey *)copyPublicIdentityDataToRegisterForKeyIndex:(unsigned short)arg1 withError:(id *)arg2;	// IMP=0x0010000000036fba
- (id)previousFullDeviceIdentityContainer;	// IMP=0x0010000000036eda
- (id)fullDeviceIdentityContainerUsableForKeyType:(unsigned long long)arg1;	// IMP=0x0010000000036d8d
- (id)fullDeviceIdentityContainer;	// IMP=0x0010000000036d79
- (struct __SecKey *)fullIdentityForKeyIndex:(unsigned short)arg1;	// IMP=0x0010000000036d14
- (id)generateCSRForUserID:(id)arg1;	// IMP=0x0010000000036b3c
- (void)dealloc;	// IMP=0x00100000000369e2
- (id)init;	// IMP=0x0010000000036893
- (id)initWithSystemMonitor:(id)arg1 keychainWrapper:(id)arg2 loadingRateLimiter:(id)arg3 identityDataSource:(id)arg4 allowPairingIdentities:(_Bool)arg5 allowRegenerateRegisteredIdentity:(_Bool)arg6 keyPairProvider:(id)arg7 ktRegistrationDataManager:(id)arg8;	// IMP=0x00100000000364e3
- (void)_loadIfNeeded:(_Bool)arg1;	// IMP=0x0010000000032fae
- (_Bool)_loadClassDIdentityIfNeeded:(id *)arg1;	// IMP=0x0010000000032c13
- (_Bool)_loadClassCIdentityIfNeeded:(id *)arg1;	// IMP=0x001000000003287b
- (_Bool)_loadClassAIdentityIfNeeded:(id *)arg1;	// IMP=0x00100000000324e0
- (id)_loadAndDeserializeBuildOfIdentityGenerationForItemName:(id)arg1;	// IMP=0x00100000000322dd
- (void)_serializeAndPersistBuildOfIdentityGeneration:(id)arg1 itemName:(id)arg2;	// IMP=0x0010000000032040
- (_Bool)_serializeAndPersistIdentityContainer:(id)arg1 identityIdentifier:(long long)arg2 deleteIfNull:(_Bool)arg3;	// IMP=0x0010000000031ae3
- (_Bool)_serializeAndPersistKTRegistrationDataDeleteIfNull:(_Bool)arg1;	// IMP=0x0010000000031a92
- (_Bool)_serializeAndPersistApplicationKeyIdentitiesDeleteIfNull:(_Bool)arg1;	// IMP=0x0010000000031a41
- (_Bool)_save;	// IMP=0x0010000000031445
- (void)_saveClassXIdentity:(id *)arg1 savedIdentity:(id *)arg2 protectionClass:(long long)arg3 savedUnsavedIdentity:(_Bool *)arg4;	// IMP=0x00100000000310ab
- (void)systemRestoreStateDidChange;	// IMP=0x001000000003101d
- (void)systemDidLeaveDataProtectionLock;	// IMP=0x0010000000030fa4
- (void)systemDidLeaveFirstDataProtectionLock;	// IMP=0x0010000000030f0d
- (_Bool)_isUnderFirstDataProtectionLock;	// IMP=0x0010000000030ec9

@end

